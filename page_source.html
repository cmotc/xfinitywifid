<html lang="en">
<head>
    <!-- WISPr support -->
    <!--
    <?xml version="1.0" encoding="UTF-8"?>
    <WISPAccessGatewayParam xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="WISPAccessGatewayParam.xsd">
        <Redirect>
            <AccessProcedure>1.0</AccessProcedure>
            <AccessLocation>isocc=us,cc=1,ac=215,network=xfinitywifi</AccessLocation>
            <LocationName>XfinityWiFi</LocationName>
	    	<LoginURL>https://wifilogin.xfinity.com/wispr_login.php?hash=Jkk4YdzMt8T9%2Bept26vpW4tgyIYQKavI0t%2BB3%2F0r%2BCErqRy%2FOdPIX3RC3%2Bb9x3YudD7eK%2FTbbdsHYEJrARAN1C9Pu%2F1EOOUadejVm%2FbhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip%2BHEm5iTsYyW2teA0k7%2B4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh%2BJ1y4g1inHHzTvnwJ%2FJInaZItNC%2FMInDEPP9cu7lWd</LoginURL>
            <MessageType>100</MessageType>
            <ResponseCode>0</ResponseCode>
        </Redirect>
    </WISPAccessGatewayParam>
    -->
	<title>Sign in to XFINITY WiFi</title>
	<meta name="description" content="" />
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" >
	<!-- <link href="public/images/favicon.ico" rel="shortcut icon" type="image/x-icon"> -->
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<link rel="stylesheet" href="public/css/comcast-wifi-portal.css">
		<script type="text/javascript" src="public/js/libs/jquery/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="public/js/all.js"></script>
	<noscript>
		<style type="text/css">
		.hero {
			background-image: url('public/portals/st01-large.jpg');
		}
		.customer-portal .customer-block .customer-block-content {
			display: block;
		}
		</style>
	</noscript>
</head>
<body class="general">
	<header class="hero responsive-background" data-small="public/portals/st01-small.jpg" data-medium="" data-large="public/portals/st01-large.jpg" style="background-blend-mode:color;background-color: rgba(0, 0, 0, 0.4);">

		<img alt="Xfinity WiFi Logo" class="xfinity-wifi-logo" src="public/images/wifi-logo.png">
		<div class="container">		<div class="header-content">
		<h1> Getting online <em>is easy.</em> </h1><p class="mobile-hidden">Sign in or Sign Up to get access now!</p></div>	</header>
	<main>
		<div class="wrapper">
		<div class="container">
		<div class="content">
						<article class="app-module mobile-hidden">
				<img alt="Phone showing map" src="public/images/app-module-bkg.jpg">
				<div class="app-module-container">
					<header class="app-module-header">
						<span class="h3">An XFINITY account is the key to</span>
													<span class="h2" style="font-size: 68px;!important">Millions of hotspots</span>

												</header>
					<p>Stay connected at your favorite places.</p>
					<br />
					<p>Returning WiFi On Demand customer? Sign in with your XFINITY account.<br /><br /><a href=http://wifi.xfinity.com/>Learn more about XFINITY WiFi</a></p>

				</div>
			</article>
			<div class="customer-portal-wrapper customer-portal-sidebar">
				<div class="customer-portal">
					<section class="customer-block dropdown header-block signin">
						<header class="customer-block-header dropdown-header">
							<h2 class="desktop-visible">Get started here!</h2>
							<span class="desktop-hidden">
								<button type="button">
									I have an XFINITY account								</button></span>
						</header>

						<div class="customer-block-content dropdown-content signin-form">
							<p class="desktop-visible customer-block-text">
								I have an XFINITY account							</p>
							<form name="signin" class="customer-signin-form" id="signin-in" action="user_login.php" method="post" onsubmit="return authenticate($(this))">
								<div>
									<ul class="error_box">
									</ul>
								</div>

								<div class="form-element">
									<label class="hidden-label" for="username">Email or Username</label>
									<input id="username" name="username" placeholder="Email or Username" type="text"/>

								</div>

								<div class="form-element">
									<label class="hidden-label" for="password">Password</label>
									<input id="password" name="password" placeholder="Password" type="password" />

								</div>

								<div class="form-element">
									<label class="hidden-label" for="friendlyname">Name Device (e.g., Jen's Tablet)</label>
									<input id="friendlyname" name="friendlyname" placeholder="Name Device (e.g., Jen's Tablet)" type="text" /><br /><br />
									<label>Forgot your <a style="display: inline;" href="https://login.comcast.net/myaccount/lookup?continue=https://wifilogin.xfinity.com%2Fstart.php%3Fh%3DqFc7ElVuXTQkexGRSt2X1aED4xL8MQmX8QYCWl0o3XpqhOr8FtylhtZtsI1JZAZFe3K7iQyZttOcqZ92FrmJtA%253D%253D&p=wcp">username </a>or <a style="display: inline;" href="https://login.comcast.net/myaccount/reset?continue=https://wifilogin.xfinity.com%2Fstart.php%3Fh%3DqFc7ElVuXTQkexGRSt2X1aED4xL8MQmX8QYCWl0o3XpqhOr8FtylhtZtsI1JZAZFe3K7iQyZttOcqZ92FrmJtA%253D%253D&p=wcp">password?</a></label>
									
								</div>

								<div class="form-element">
									<button type="submit" class="btn_authenticate">Sign in</button>
								</div>
								<input type="hidden" name="javascript" value="false" />
								<input type="hidden" name="method" value="authenticate" />
								<input type="hidden" name="hash" value="Jkk4YdzMt8T9+ept26vpW4tgyIYQKavI0t+B3/0r+CErqRy/OdPIX3RC3+b9x3YudD7eK/TbbdsHYEJrARAN1C9Pu/1EOOUadejVm/bhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip+HEm5iTsYyW2teA0k7+4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh+J1y4g1inHHzTvnwJ/JInaZItNC/MInDEPP9cu7lWd" />
							</form>
						</div>
					</section>
					<noscript><a name="second_form"></a></noscript>
					<section class="customer-block dropdown plain-header signup">
						<header class="customer-block-header dropdown-header">
							<h4 class="desktop-visible">
								I don't have an XFINITY account							</h4>
							<span class="desktop-hidden" id="not-xfinity-customer">
								<button type="button">
									I don't have an XFINITY account
								</button>
							</span>
						</header>

						<div class="customer-block-content dropdown-content customer-signup">
													<span class="desktop-hidden">
							</a>
							</span>
															<p class="customer-block-text">Sign up for a free trial or buy WiFi On Demand passes to get online now.</p>
								<p style="font-size: 12px;" class="customer-block-text">If you have previously used a WiFi On Demand pass, sign in above with your username.</p>
								<a class="signup button signUpButton" id="amdocs_signup" data-redirect="https://wifiondemand.xfinity.com/wod/landing?c=n&macId=4e%3A62%3A7f%3A43%3A68%3A92								&location=default								&apMacId=f4%3A0e%3A83%3Aca%3Acb%3A1e																&issuer=r																&a=as								&bn=st22								&deviceModel= ">
									Sign up</a>
																			</div>
					</section>
				</div>
				<div class="xfinity-wifi-contact">
					<div class="xfinity-wifi-info">
						<p style="font-size:18px;">Have questions? Visit our <a style="cursor: pointer;!important" href=http://wifi.xfinity.com/faq.php>FAQs</a><br /></p>
					</div>
				</div>
							</div>
		</div>
		</div>
		</div>
	</main>
			<footer>
			<div class="container">
			<section class="footer-content">
				<div class="language-selector">
					<div><a class="_active" href="start.php?set_language=en&hash=Jkk4YdzMt8T9%2Bept26vpW4tgyIYQKavI0t%2BB3%2F0r%2BCErqRy%2FOdPIX3RC3%2Bb9x3YudD7eK%2FTbbdsHYEJrARAN1C9Pu%2F1EOOUadejVm%2FbhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip%2BHEm5iTsYyW2teA0k7%2B4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh%2BJ1y4g1inHHzTvnwJ%2FJInaZItNC%2FMInDEPP9cu7lWd">English</a></div>
					<div><a href="start.php?set_language=es&hash=Jkk4YdzMt8T9%2Bept26vpW4tgyIYQKavI0t%2BB3%2F0r%2BCErqRy%2FOdPIX3RC3%2Bb9x3YudD7eK%2FTbbdsHYEJrARAN1C9Pu%2F1EOOUadejVm%2FbhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip%2BHEm5iTsYyW2teA0k7%2B4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh%2BJ1y4g1inHHzTvnwJ%2FJInaZItNC%2FMInDEPP9cu7lWd">Espa√±ol</a></div>
				</div>
				<p>Not available in all areas. Restrictions apply. XFINITY WiFi is included for XFINITY Internet tiers of 25Mbps download speeds and above only. <br />Comcast &copy; 2017. All rights reserved.<br /><a href="contact_us.php">Contact Us</a></p>
				<img src="log.php?hash=WijBrylFt10UP1GIPE20lSW%2FF5%2B1v9vz0DYUrCIGX67w8KQvh5%2FKAzpBdyAj1rvdrpVDWBAvYT05r3YGNMMW3cVnGUO7rLxCybzztha3O8XAkiQp6C0c1eJ4NOpGaJTZAISljfzvyJIgmZKd64l35vG44NP%2FYRgyJJ5Z%2FiMoeJbg%2Ba3ZOFX3IP5mpFWq58XA%2BDxqX2zL%2BHt2DRjQCbF%2B693T%2B20jxppxW7mYWeYOWlbQJ5S6YFLgSUBZ%2FLj8%2BIE4CMfAy19cMsooOZvjLxL34Sma%2FekPdxLmRTmXw1AEtHf0qu5eX%2BV1L0jIoBl%2FatzU7o68PSEwX%2Bfr1ZuQZFPTa9cC12WDlKVdnFCZ7fE31%2FtzwBDSusjrp3Y41aUF6e6zZ37ddprkxZjFzjV65C58Xb%2FT2nDEGnvGD55tZNXnc4ZPa3Le0R3f6WhdMHnq7%2Bu%2BjdOiSYTRne2tgDzyw4BLIc4lKDpc1X1jz8r1BLq4mRVOyQ2qrOA6EtKyi6hvlDy3Awf9PieEMemyJthTZf4jATJDt8zk1ATlBLUvG3PCH4hyl69RKx1AJnuhwB9d9%2BEiL1iVaIMOnHE0%2FuU4LWCFhswp9yDmHtNc121RE9qfnTQCIvBmt7bLrCd7hQhkApfnWXlw9DdWk7Fq7uUsuH9g5HaCRqRYx2vKmqoCfoE%2F%2BhDkBBBQe6w9YktCCV3JJUeiqFgUCu%2FXBv9P28poS%2FmgHQyXKPZu8lqF8ivzl63LEV0C9NKDDFpPcPVdDXn%2FKzkCdmbRb2Kdhfa5OQCVR7W1CUzh6Ka8fdZ2ruFDbqbsXHIykXL91CK2kSRUQxUWhwEZ63LVNrh9gsCNbwSdX1Z7sHeEuvPuhmkJMXiUhrPcY7%2FO3WOpR5A9Szz%2FMKeI%2FtxM" alt="not important image used for logging" style="border:0"/>
			</section>
			</div>
		</footer>
	
</body>

<script>
	var pointbreak = new Pointbreak();
	var ResponsiveImage = new ResponsiveImage();
	var Dropdown = new Dropdown();
	var PhoneLinks = new PhoneLinks();
	var CustomSelect = new CustomSelect();
	var EqualHeight = new EqualHeight();

	var btn_authenticate, btn_text, error_box;

	$('.signUpButton').click(function(event){
		var clickedId = event.target.id;
		log_data = {
			'action': 'write_to_log_json',
			'log': '/var/log/httpd/user_pixel.log',
			'encoded_array': '{"non-member":"wod","cm":"4e:62:7f:43:68:92","cp_page":"Portal","ip":"69.252.205.12","cp_redirect_hash":"qFc7ElVuXTQkexGRSt2X1aED4xL8MQmX8QYCWl0o3XpqhOr8FtylhtZtsI1JZAZFe3K7iQyZttOcqZ92FrmJtA==","cp_redirect_url":"\/start.php?h=qFc7ElVuXTQkexGRSt2X1aED4xL8MQmX8QYCWl0o3XpqhOr8FtylhtZtsI1JZAZFe3K7iQyZttOcqZ92FrmJtA%3D%3D","x_forwarded_for_ip":"66.118.72.2","cp_aaa_server":"xfwaaa-as.sys.comcast.net","client-mac":"4e:62:7f:43:68:92","cp_bn":"st22","cp_bn_title":"wodTrial","cp_language":"en","ap-mac":"f4:0e:83:ca:cb:1e","params":{"cm":"4e:62:7f:43:68:92","bn":"st22","ap-mac":"f4:0e:83:ca:cb:1e","a":"as","aaa_server":"xfwaaa-as.sys.comcast.net","language":"en","amenity":false,"complimentaryWifi":false}}',
			'json_encoded': true
		}
		$.ajax({
			type: "POST",
		  	url: "portal_functions.php",
		  	cache: false,
		  	timeout: 10000,
		  	dataType: "json",
		  	data: log_data
		}).done(function(){
			window.location.href = $('#'+clickedId).data('redirect');
		}).fail(function(){
			window.location.href = $('#'+clickedId).data('redirect');
		});
		return false;
	});

	var email_cookie_set = false;
	var zipcode_cookie_set = false;

	function authenticate(form) {
		var post_data;
		error_box = form.find('.error_box');
		btn_authenticate = form.find('.btn_authenticate');
		btn_text = btn_authenticate.text();

		if(!$("#agree_standard").is(':checked'))
			var terms_for_standard  = '';
		else
			var terms_for_standard = $("#agree_standard").val();

		error_box.html('');

		if(btn_authenticate.hasClass('amenity')) {
			if( !isValidEmailAddress($.trim($('#email').val())) && email_cookie_set == false)
				error_box.append('<li>Invalid email format.</li>');
			if(!$("#agree").is(':checked') )
				error_box.append('<li>Please agree to the Terms of Service.</li>');
			if(!$.trim($("#zip_code").val()) && zipcode_cookie_set == false)
				error_box.append('<li>Zip Code is required field.</li>');

			post_data = {
				'method': 'authenticate_amenity',
				'email': $('#email').val(),
				'zip_code': $('#zip_code').val(),
				'agree': $('#agree').val(),
				'cp_location': $('#cp_location_value').val(),
				'hash': "Jkk4YdzMt8T9+ept26vpW4tgyIYQKavI0t+B3/0r+CErqRy/OdPIX3RC3+b9x3YudD7eK/TbbdsHYEJrARAN1C9Pu/1EOOUadejVm/bhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip+HEm5iTsYyW2teA0k7+4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh+J1y4g1inHHzTvnwJ/JInaZItNC/MInDEPP9cu7lWd",
		  		'javascript':'true'
			}
		} else if (btn_authenticate.hasClass('complimentaryWifi')) {
			if(!$("#agree_complimentaryWifi").is(':checked') )
				error_box.append('<li>Please agree to the Terms of Service.</li>');
			post_data = {
				'method': 'authenticate_complimentaryWifi',
				'agree': $('#agree_complimentaryWifi').val(),
				'hash': "Jkk4YdzMt8T9+ept26vpW4tgyIYQKavI0t+B3/0r+CErqRy/OdPIX3RC3+b9x3YudD7eK/TbbdsHYEJrARAN1C9Pu/1EOOUadejVm/bhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip+HEm5iTsYyW2teA0k7+4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh+J1y4g1inHHzTvnwJ/JInaZItNC/MInDEPP9cu7lWd",
		  		'javascript':'true'
			}
		} else {
			if($('#username').val() == '')
				error_box.append('<li>Email or username cannot be blank.</li>');
			if($('#password').val() == '')
				error_box.append('<li>Password cannot be blank.</li>');

			post_data = {
				'method': 'authenticate',
				'username': $.trim($('#username').val()),
		  		'password': $('#password').val(),
		  		'agree_standard': terms_for_standard,
		 		'friendlyname': $('#friendlyname').val(),
		  		'hash': "Jkk4YdzMt8T9+ept26vpW4tgyIYQKavI0t+B3/0r+CErqRy/OdPIX3RC3+b9x3YudD7eK/TbbdsHYEJrARAN1C9Pu/1EOOUadejVm/bhomuB3caJJJhQjRnRdgCBSN8F1iz6yzImdLZn2NcpGrip+HEm5iTsYyW2teA0k7+4JSM7t5TaY9QktEhqBh0KxZnI4QiJLwn73E3DufT45Fx0dh+J1y4g1inHHzTvnwJ/JInaZItNC/MInDEPP9cu7lWd",
		  	    'devicetype': " ",
				'javascript':'true'
			}
		}

		if(error_box.html() != '')
			return false;
		$(':input').prop('disabled',true);
		btn_authenticate.text('Authenticating...');

		$.ajax({
		  type: "POST",
		  url: "user_login.php",
		  cache: false,
		  timeout: 4000,
		  dataType: "json",
		  data: post_data
		})
		.done(function(json) {
		  	if(json.response == "Success") {
		  		window.location.href = json.url;
			} else if(json.response == "Bad Credentials" || json.response == "Username Invalid - Character set or length" || json.response == "Username Invalid - Character set") {
				error_box.append('<li>The username and password entered do not match. Please try again.</li>');
			} else if(json.response == "Bad Post") {
				error_box.append('<li>An unknown error has occured, please try again.</li>');
			} else if(json.response == "Timeout") {
			    error_box.append('<li>An unknown error has occured, please try again.</li>');
			} else if(json.response == "Unauthorized Service" ||
					  json.response == "Device Blacklisted" ||
					  json.response == "Concurrency Failed" ||
					  json.response == "Concurrency Failed - Master Owner" ||
					  json.response == "Concurrency Failed - Secondary Account" ||
					  json.response == "No HSD" ||
					  json.response == "General Error" ||
					  json.response == "WOD - unauthorized service" ||
					  json.response == "WOD - unauthorized service no HSD" ||
					  json.response == "WOD - Amdocs Offer Page" ||
					  json.response == "Amdocs - Email not verified" ||
					  json.response == "Forbidden MAC request" ||
                      json.response == "Excessive Invalid Login Attempts") {
				window.location.href = json.url;
			}

			// This section should never get executed if javascript checked correctly above, except for the regex
			if(json.response.reasons) {
				for (var reason in json.response.reasons) {
					if(json.response.reasons[reason] == "Bad Credentials" || json.response.reasons[reason] == "Username Invalid - Character set or length" || json.response.reasons[reason] == "Username Invalid - Character set") {
						error_box.append('<li>The username and password entered do not match. Please try again.</li>');
					} else if(json.response.reasons[reason] == "Username Blank") {
						error_box.append('<li>Email or username cannot be blank.</li>');
					} else if(json.response.reasons[reason] == "Password Blank") {
						error_box.append('<li>Password cannot be blank.</li>');
					} else if(json.response.reasons[reason] == "Invalid Email") {
						error_box.append('<li>Invalid email format.</li>');
					} else if(json.response.reasons[reason] == "tos") {
						error_box.append('<li>Please agree to the Terms of Service.</li>');
					}
				}
			}

			$(':input').prop('disabled',false);
			btn_authenticate.text(btn_text);
		})
		.fail(function(jqXHR, textStatus) {
			$.ajax({
			  type: "POST",
			  url: "user_login.php",
			  cache: false,
			  timeout: 6000,
			  dataType: "json",
			  data: post_data
			})
			.done(function(json) {
			  	if(json.response == "Success") {
			  		window.location.href = json.url;
				} else if(json.response == "Bad Credentials" || json.response == "Username Invalid - Character set or length" || json.response == "Username Invalid - Character set") {
					error_box.append('<li>The username and password entered do not match. Please try again.</li>');
				} else if(json.response == "Bad Post") {
					error_box.append('<li>An unknown error has occured, please try again.</li>');
				} else if(json.response == "Timeout") {
				    error_box.append('<li>An unknown error has occured, please try again.</li>');
				} else if(json.response == "Unauthorized Service" ||
						  json.response == "Device Blacklisted" ||
						  json.response == "Concurrency Failed" ||
						  json.response == "Concurrency Failed - Master Owner" ||
						  json.response == "Concurrency Failed - Secondary Account" ||
						  json.response == "No HSD" ||
						  json.response == "General Error" ||
						  json.response == "WOD - unauthorized service" ||
						  json.response == "WOD - unauthorized service no HSD" ||
						  json.response == "WOD - Amdocs Offer Page" ||
						  json.response == "Amdocs - Email not verified" ||
						  json.response == "Forbidden MAC request" ||
	                      json.response == "Excessive Invalid Login Attempts") {
					window.location.href = json.url;
				}

				// This section should never get executed if javascript checked correctly above, except for the regex
				if(json.response.reasons) {
					for (var reason in json.response.reasons) {
						if(json.response.reasons[reason] == "Bad Credentials" || json.response.reasons[reason] == "Username Invalid - Character set or length" || json.response.reasons[reason] == "Username Invalid - Character set") {
							error_box.append('<li>The username and password entered do not match. Please try again.</li>');
						} else if(json.response.reasons[reason] == "Username Blank") {
							error_box.append('<li>Email or username cannot be blank.</li>');
						} else if(json.response.reasons[reason] == "Password Blank") {
							error_box.append('<li>Password cannot be blank.</li>');
						} else if(json.response.reasons[reason] == "Invalid Email") {
							error_box.append('<li>Invalid email format.</li>');
						} else if(json.response.reasons[reason] == "tos") {
							error_box.append('<li>Please agree to the Terms of Service.</li>');
						}
					}
				}

				$(':input').prop('disabled',false);
				btn_authenticate.text(btn_text);
			}).
			fail(function(jqXHR, textStatus) {
				$.ajax({
				  type: "POST",
				  url: "user_login.php",
				  cache: false,
				  timeout: 10000,
				  dataType: "json",
				  data: post_data
				})
				.done(function(json) {
				  	if(json.response == "Success") {
				  		window.location.href = json.url;
					} else if(json.response == "Bad Credentials" || json.response == "Username Invalid - Character set or length" || json.response == "Username Invalid - Character set") {
						error_box.append('<li>The username and password entered do not match. Please try again.</li>');
					} else if(json.response == "Bad Post") {
						error_box.append('<li>An unknown error has occured, please try again.</li>');
					} else if(json.response == "Timeout") {
					    error_box.append('<li>An unknown error has occured, please try again.</li>');
					} else if(json.response == "Unauthorized Service" ||
							  json.response == "Device Blacklisted" ||
							  json.response == "Concurrency Failed" ||
							  json.response == "Concurrency Failed - Master Owner" ||
							  json.response == "Concurrency Failed - Secondary Account" ||
							  json.response == "No HSD" ||
							  json.response == "General Error" ||
							  json.response == "WOD - unauthorized service" ||
							  json.response == "WOD - unauthorized service no HSD" ||
							  json.response == "WOD - Amdocs Offer Page" ||
							  json.response == "Amdocs - Email not verified" ||
							  json.response == "Forbidden MAC request" ||
		                      json.response == "Excessive Invalid Login Attempts") {
						window.location.href = json.url;
					}

					// This section should never get executed if javascript checked correctly above, except for the regex
					if(json.response.reasons) {
						for (var reason in json.response.reasons) {
							if(json.response.reasons[reason] == "Bad Credentials" || json.response.reasons[reason] == "Username Invalid - Character set or length" || json.response.reasons[reason] == "Username Invalid - Character set") {
								error_box.append('<li>The username and password entered do not match. Please try again.</li>');
							} else if(json.response.reasons[reason] == "Username Blank") {
								error_box.append('<li>Email or username cannot be blank.</li>');
							} else if(json.response.reasons[reason] == "Password Blank") {
								error_box.append('<li>Password cannot be blank.</li>');
							} else if(json.response.reasons[reason] == "Invalid Email") {
								error_box.append('<li>Invalid email format.</li>');
							} else if(json.response.reasons[reason] == "tos") {
								error_box.append('<li>Please agree to the Terms of Service.</li>');
							}
						}
					}
					$(':input').prop('disabled',false);
					btn_authenticate.text(btn_text);
				}).fail(function(){
					$(':input').prop('disabled',false);
	                btn_authenticate.text(btn_text);
					error_box.append('<li>An unknown error has occured, please try again.</lii>');
				});

	    	});

    	});
    	return false;
    }

    function isValidEmailAddress(emailAddress) {
	    var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
	    return pattern.test(emailAddress);
	};

  $(document).ready(function() {
		if( /Firefox/i.test(navigator.userAgent) && /Android/i.test(navigator.userAgent) ) {
			var notXfinityCustomerhtml = $("#not-xfinity-customer").html();
			notXfinityCustomerhtml = notXfinityCustomerhtml.replace('<button type="button">','');
			notXfinityCustomerhtml = notXfinityCustomerhtml.replace('</button>','');
			$("#not-xfinity-customer").html(notXfinityCustomerhtml);
			$("#wawa_id").css("margin","0 0 0 40");
                        $("#wawa_id").css("font-weight","700");
	    }
	});
</script>
</html>
